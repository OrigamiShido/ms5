# 周报

> 幸运的是，网络机构针对每颗卫星都提供了两行轨道参数(TLE),因此能够依据一定的算法计算他们的位置，然后结合观测者本地的经纬度坐标预测其在某时某刻针对观测者的仰角方位角等信息，并观测其运动状态。需要搜索网络信息，会编写matlab 或 python 程序，至少能在电脑上计算出卫星的方位角仰角，并绘制成 天空图（从武大的经纬度）。

## 使用SGP4进行卫星运行时间预报

针对目标，采用MATLAB对于卫星的运动轨迹和运行时间进行预报。

采用MATLAB aerospace toolbox, satellite communications toolbox和 sensor fusion and tracking toolbox。首先根据论文定义武大观察站的经纬度和模拟起始、结束和模拟时间：

```matlab
latitude=30.5288888;
longitude=114.3530555;
altitude=56;
starttime=datetime(2025,5,27,14,0,0,'TimeZone',hours(8));
stoptime=datetime(2025,5,27,16,0,0,'TimeZone',hours(8));
sampletime=1;
```

创建一个SatelliteScenario对象，用于模拟分析：

```matlab
sc = satelliteScenario(starttime,stoptime,sampletime);
```

使用预设的经纬度创建一个地面站对象，根据论文，将其最小感知仰角设定为60度：

```matlab
gs=groundStation(sc,Name='WHU',Latitude=latitude,Longitude=longitude,Altitude=altitude,MinElevationAngle=60);
```

从[celestrak.org](https://celestrak.org/NORAD/elements/)下载STARLINK的TLE文件，并读取将其添加到SatelliteScenario对象中，使用SGP4算法对于卫星进行模拟：

```matlab
sat=satellite(sc,[pwd,'\gp.tle'],OrbitPropagator="sgp4");
```

使用access对象进行卫星可见性预报：

```matlab
ac=access(gs,sat);
intvls = accessIntervals(ac);
```

能够得到在特定时间内的预报表。

使用5月29日数据，对于30日早上6点至8点的卫星数据进行预报，对7500颗卫星进行分析，采用预测精度为1s，最后程序用时用时2547秒，运行时间较长。得到：

![image-20250529220523300](C:\Users\Admin\AppData\Roaming\Typora\typora-user-images\image-20250529220523300.png)

注意这里的起止时间是UTC，需要加8小时转换到本地时间，从表能够得出在早6-8点中有490颗卫星在地面站视野中可见。其中一部分卫星的可见时长仅为数秒。

得到预报表后，我们能够使用satelliteScenarioViewer在卫星图实景中渲染可见卫星的运行轨迹：

```matlab
v=satelliteScenarioViewer(sc,Name='Starlink Scenario Viewer',Basemap='satellite',Dimension='2D');
campos(v,latitude,longitude);
play(sc);
```

但是该方法不能够让我们得到某一时刻的方向角和仰角预报，同时运行时间较长因此我们采用